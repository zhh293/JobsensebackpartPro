# Application Configuration
spring:
  application:
    name: agent-ai
  # OpenAI Configuration (using Alibaba DashScope API compatible mode)
#  spring.ai.openai.api-key=sk-e5zWuv9LGJfOAiwJMqREqqRli8AJ8hc8eU69AW3MxY5sC2cN
#  spring.ai.openai.base-url=https://api.xty.app
  ai:
    openai:
      api-key: ${OPENAI_API_KEY:sk-e5zWuv9LGJfOAiwJMqREqqRli8AJ8hc8eU69AW3MxY5sC2cN}  # Use environment variable or default value
      base-url: ${OPENAI_BASE_URL:https://api.xty.app}

  # Redis Configuration
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
      database: ${REDIS_DATABASE:0}
  # Datasource Configuration (PostgreSQL)
  datasource:
    url: ${JDBC_URL:jdbc:postgresql://localhost:5432/agent_ai}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:password}
    driver-class-name: org.postgresql.Driver

# Server Configuration
server:
  port: ${SERVER_PORT:8082}

# Logging Configuration
logging:
  level:
    org.springframework.ai: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/application.log

# MyBatis Configuration
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

# Custom Configuration
custom:
  upload:
    pdf:
      path: ${PDF_UPLOAD_PATH:./uploads/pdfs/}
      max-file-size: 10MB
  chat:
    default-system-prompt: "You are a helpful AI assistant."
    default-pdf-prompt: "You are an AI that can answer questions based on provided PDF documents."

# Knife4j Configuration
knife4j:
  enable: true
  openapi:
    title: "AI Agent API"
    description: "AI Agent API Documentation"
    version: "1.0"
    group: "default"
